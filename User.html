<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Laundry Express Full</title>
<style>
/* ================= CSS sama persis ================= */
body { font-family:'Segoe UI', Tahoma, sans-serif; margin:0; background:#f9fafb; color:#1f2937; }
a { text-decoration:none; }
header { background: linear-gradient(135deg,#3b82f6,#6366f1); color:white; padding:40px 20px; border-bottom:5px solid #facc15; display:flex; justify-content:center; align-items:center; position:relative; overflow:hidden; }
.header-inner { display:flex; align-items:center; max-width:1000px; width:95%; flex-wrap:wrap; gap:20px; position:relative; z-index:1; }
.logo { width:80px; height:80px; margin-right:25px; }
.logo img { width:80px; height:80px; display:block; border-radius:50%; object-fit:cover; background:#facc15; padding:8px; }
.header-text { flex:1; text-align:left; }
.header-text h1 { font-size:2.5rem; margin-bottom:8px; }
.header-text p { opacity:0.9; margin-bottom:15px; }
.cta-btn { display:inline-block; padding:12px 25px; background:#facc15; color:#1f2937; border-radius:50px; font-weight:600; transition:all 0.3s; }
.cta-btn:hover { transform:scale(1.05); }
.bubble { position:absolute; bottom:0; background:rgba(255,255,255,0.5); border-radius:50%; animation: rise linear infinite; }
@keyframes rise { 0% { transform: translateY(0) scale(1); opacity:0.7; } 50% { opacity:0.9; } 100% { transform: translateY(-1200px) scale(1.2); opacity:0; } }
.tab-menu { display:flex; flex-wrap:wrap; justify-content:center; max-width:1000px; margin:20px auto; gap:10px; position:relative; z-index:1; overflow-x: visible; }
.tab-menu .tab-btn { flex:1 1 120px; padding:12px 20px; border:none; border-radius:50px; background:#e2e8f0; color:#1d4ed8; font-weight:600; cursor:pointer; position:relative; transition:all 0.3s; }
.tab-menu .tab-btn.active { background:#3b82f6; color:white; }
.tab-menu .tab-btn.active::after { content:''; position:absolute; bottom:-5px; left:20%; width:60%; height:4px; background:#facc15; border-radius:2px; }
.tab-content { display:none; opacity:0; transform:translateY(20px); transition:0.4s ease; }
.tab-content.active { display:block; opacity:1; transform:translateY(0); }
.card { background:white; padding:25px; border-radius:20px; margin-bottom:30px; box-shadow:0 10px 30px rgba(0,0,0,0.08); }
.grid-items { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:20px; }
.item { background:#e2e8f0; padding:15px; border-radius:12px; opacity:0; transform:translateX(-20px); transition:all 0.4s; text-align:center; }
.item.show { opacity:1; transform:translateX(0); }
.modern-form .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
.form-group { position: relative; display: flex; align-items: center; }
.form-group input,
.form-group select { width: 100%; padding: 12px 40px 12px 12px; border-radius: 12px; border: 1px solid #ccc; font-size: 1rem; background: #f9fafb; transition: all 0.3s; }
.form-group input:focus,
.form-group select:focus { outline: none; border-color: #3b82f6; box-shadow: 0 0 12px rgba(59,130,246,0.3); }
.form-group label { position: absolute; left: 12px; top: 12px; color: #6b7280; font-size: 0.95rem; pointer-events: none; transition: 0.3s ease all; }
.form-group input:focus + label,
.form-group input:not(:placeholder-shown) + label,
.form-group select:focus + label,
.form-group select:not([value=""]) + label { top: -10px; left: 10px; background: #f9fafb; font-size: 0.8rem; padding: 0 5px; color: #3b82f6; }
.form-group .icon { position: absolute; right: 12px; font-size: 1.2rem; pointer-events: none; }
.modern-form button { padding:12px; background:#3b82f6; color:white; font-weight:600; border:none; border-radius:12px; cursor:pointer; transition:all 0.3s; }
.modern-form button:hover { transform:scale(1.03); }
.status-progress { display:flex; justify-content:space-between; flex-wrap:nowrap; margin-top:20px; position:relative; overflow-x:auto; padding-bottom:10px; }
.status-progress::before { content:""; position:absolute; top:50%; left:5%; width:90%; height:4px; background:#e2e8f0; transform:translateY(-50%); z-index:0; border-radius:2px; }
.status-progress .step { flex:0 0 120px; text-align:center; padding:14px 5px; border-radius:12px; background:#e2e8f0; margin:5px 5px; position:relative; z-index:1; }
.status-progress .step.active { background:linear-gradient(135deg,#facc15,#fbbf24); color:white; }
.status-progress .step::before { content:attr(data-icon); position:absolute; top:-10px; left:50%; transform:translateX(-50%); opacity:0; transition:0.4s; font-size:20px; }
.status-progress .step.active::before { opacity:1; animation:pulse 1s infinite alternate; }
@keyframes pulse {0%{transform:translateX(-50%) scale(1);}50%{transform:translateX(-50%) scale(1.3);}100%{transform:translateX(-50%) scale(1.1);}}
.accordion-item { margin-bottom:10px; border-radius:12px; overflow:hidden; box-shadow:0 5px 15px rgba(0,0,0,0.05); }
.accordion-header { background:#e2e8f0; padding:12px 20px; cursor:pointer; font-weight:600; transition:background 0.3s; position:relative; }
.accordion-header::after { content:'+'; position:absolute; right:20px; font-weight:bold; transition:transform 0.3s; }
.accordion-header.active::after { content:'‚àí'; }
.accordion-header:hover { background:#cbd5e1; }
.accordion-content { max-height:0; overflow:hidden; transition:max-height 0.4s ease; padding:0 20px; background:white; }
.accordion-content p { padding:10px 0; margin:0; }
.testimoni-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:20px; }
.testimoni-item { display:flex; align-items:flex-start; background:white; padding:15px; border-radius:12px; box-shadow:0 5px 20px rgba(0,0,0,0.05); gap:12px; transition:transform 0.3s, box-shadow 0.3s; }
.testimoni-item:hover { transform:translateY(-5px) scale(1.02); box-shadow:0 10px 25px rgba(0,0,0,0.1); }
.testimoni-avatar { width:40px; height:40px; border-radius:50%; background:#3b82f6; color:white; display:flex; justify-content:center; align-items:center; font-weight:600; flex-shrink:0; }
.contact-info p { margin:10px 0; font-size:1rem; }
.contact-info a { color:#3b82f6; font-weight:600; }
.contact-info a:hover { text-decoration:underline; }
#waChat { position:fixed; bottom:20px; right:20px; background:#25d366; color:white; padding:15px 20px; border-radius:50px; font-weight:600; cursor:pointer; box-shadow:0 5px 15px rgba(0,0,0,0.2); animation: pulseWA 2s infinite; z-index:999; }
@keyframes pulseWA {0%{transform:scale(1);}50%{transform:scale(1.1);}100%{transform:scale(1);} }
#toast { position:fixed; bottom:80px; right:20px; background:#3b82f6; color:white; padding:12px 20px; border-radius:12px; opacity:0; pointer-events:none; transition:opacity 0.5s; z-index:9999; }
#toast.show { opacity:1; pointer-events:auto; }
footer { background: linear-gradient(135deg,#3b82f6,#6366f1); color:white; padding:20px; text-align: center; position: relative; overflow: hidden; }
footer p { margin: 5px 0; font-weight:600; }
@media(max-width:768px){ .grid-items{grid-template-columns:repeat(auto-fit,minmax(180px,1fr));} .header-inner{flex-direction:column;text-align:center;} .header-text{text-align:center;} .header-text h1{font-size:2rem;} .header-text p{font-size:1rem;} .logo{width:60px;height:60px;margin-right:0;} .modern-form .form-grid { grid-template-columns:1fr !important; } .form-group[style] { grid-column: span 1 !important; } .modern-form button { grid-column: span 1 !important; } }
@media(max-width:480px){ .tab-menu .tab-btn{flex:1 1 100%; font-size:0.9rem;} .accordion-header::after{right:15px;} }
</style>
</head>
<body>

<header>
  <div class="header-inner">
    <div class="logo">
      <img src="https://raw.githubusercontent.com/My-data-file/Share/main/Logo.png" alt="Sea Laundry Logo" width="80" height="80">
    </div>
    <div class="header-text">
      <h1>Sea Laundry</h1>
      <p>Cepat, rapi, dan bisa pesan online</p>
      <a href="#order" class="cta-btn">Pesan Sekarang</a>
    </div>
  </div>
</header>

<nav class="tab-menu">
  <button class="tab-btn active" data-tab="home">Home</button>
  <button class="tab-btn" data-tab="order">Pesan Laundry</button>
  <button class="tab-btn" data-tab="status">Status Order</button>
  <button class="tab-btn" data-tab="services">Layanan</button>
  <button class="tab-btn" data-tab="faq">FAQ</button>
  <button class="tab-btn" data-tab="testimoni">Testimoni</button>
  <button class="tab-btn" data-tab="contact">Kontak</button>
</nav>

<!-- ================= Tab Contents ================= -->
<div class="tab-content active" id="home">
  <div class="card">
    <h2>Selamat Datang di Laundry Express</h2>
    <div class="grid-items">
      <div class="item">Laundry online modern dan cepat</div>
      <div class="item">Pesan mudah, jemput & antar cucian Anda</div>
      <div class="item">Cucian wangi & rapi</div>
      <div class="item">Layanan pelanggan responsif via WhatsApp</div>
    </div>
  </div>
</div>

<div class="tab-content" id="order">
  <div class="card">
    <h2>Pesan Laundry</h2>
    <form id="orderForm" class="modern-form">
      <div class="form-grid">
        <div class="form-group">
          <input type="text" id="nama" placeholder=" " required>
          <label for="nama">Nama Anda</label>
          <span class="icon">üë§</span>
        </div>
        <div class="form-group">
          <input type="text" id="alamat" placeholder=" " required>
          <label for="alamat">Alamat Lengkap</label>
          <span class="icon">üè†</span>
        </div>
        <div class="form-group">
          <input type="number" id="berat" placeholder=" " min="1" required>
          <label for="berat">Berat Cucian (kg)</label>
          <span class="icon">‚öñÔ∏è</span>
        </div>
        <div class="form-group">
          <select id="layanan" required>
            <option value="" disabled selected></option>
            <option>Cuci Kering</option>
            <option>Cuci + Setrika</option>
            <option>Setrika Saja</option>
          </select>
          <label for="layanan">Pilih Layanan</label>
          <span class="icon">üß∫</span>
        </div>
        <div class="form-group" style="grid-column: span 2;">
          <input type="text" id="catatan" placeholder=" ">
          <label for="catatan">Catatan Tambahan</label>
          <span class="icon">üìù</span>
        </div>
        <div class="form-group" style="grid-column: span 2;">
          <input type="date" id="jadwal" placeholder=" " required>
          <label for="jadwal">Jadwal Jemput / Antar</label>
          <span class="icon">üìÖ</span>
        </div>
        <button type="submit" style="grid-column: span 2;">Kirim via WhatsApp</button>
      </div>
    </form>
  </div>
</div>

<!-- ================= Status Order ================= -->
<div class="tab-content" id="status">
  <div class="card">
    <h2>Status Order</h2>
    <div class="status-progress" id="statusSteps">
      <div class="step" data-icon="üìù">Dipesan</div>
      <div class="step" data-icon="üõµ">Dijemput</div>
      <div class="step" data-icon="üß∫">Diproses</div>
      <div class="step" data-icon="‚úÖ">Selesai</div>
      <div class="step" data-icon="üì¶">Diantar</div>
    </div>
    <p style="margin-top:10px; font-size:0.9rem; color:#555;">
      Status hanya bisa dilihat, perubahan dilakukan oleh admin di spreadsheet.
    </p>
  </div>
</div>

<!-- ================= Services, FAQ, Testimoni, Contact ================= -->
<div class="tab-content" id="services">
  <div class="card">
    <h2>Layanan & Harga</h2>
    <div class="grid-items">
      <div class="item"><strong>Cuci Kering</strong><br>Rp 10.000/kg</div>
      <div class="item"><strong>Cuci + Setrika</strong><br>Rp 15.000/kg</div>
      <div class="item"><strong>Setrika Saja</strong><br>Rp 7.000/kg</div>
      <div class="item"><strong>Cuci Sepatu</strong><br>Rp 20.000/pasangan</div>
      <div class="item"><strong>Cuci Karpet</strong><br>Rp 30.000/meter</div>
    </div>
  </div>
</div>

<div class="tab-content" id="faq">
  <div class="card">
    <h2>FAQ</h2>
    <div class="accordion">
      <div class="accordion-item">
        <div class="accordion-header">Bagaimana cara memesan laundry?</div>
        <div class="accordion-content"><p>Cukup isi form di tab ‚ÄúPesan Laundry‚Äù dan klik tombol kirim via WhatsApp.</p></div>
      </div>
      <div class="accordion-item">
        <div class="accordion-header">Apakah laundry bisa dijemput?</div>
        <div class="accordion-content"><p>Ya, kami menyediakan layanan jemput & antar cucian di area tertentu.</p></div>
      </div>
      <div class="accordion-item">
        <div class="accordion-header">Berapa lama proses laundry?</div>
        <div class="accordion-content"><p>Proses normal 1-2 hari kerja, tergantung jenis layanan dan jumlah cucian.</p></div>
      </div>
    </div>
  </div>
</div>

<div class="tab-content" id="testimoni">
  <div class="card">
    <h2>Testimoni Pelanggan</h2>
    <div class="testimoni-grid">
      <div class="testimoni-item">
        <div class="testimoni-avatar">A</div>
        <p>"Laundry cepat dan hasilnya rapi!"</p>
      </div>
      <div class="testimoni-item">
        <div class="testimoni-avatar">B</div>
        <p>"Pelayanan ramah, pesan via WA mudah."</p>
      </div>
      <div class="testimoni-item">
        <div class="testimoni-avatar">C</div>
        <p>"Cucian wangi dan tepat waktu."</p>
      </div>
    </div>
  </div>
</div>

<div class="tab-content" id="contact">
  <div class="card">
    <h2>Kontak</h2>
    <div class="contact-info">
      <p>WA: <a href="https://wa.me/6287877929391" target="_blank">+62 878-7792-9391</a></p>
      <p>Email: <a href="mailto:info@sealaundry.com">info@sealaundry.com</a></p>
      <p>Alamat: Jl. Contoh No.123, Kota Anda</p>
    </div>
  </div>
</div>

<div id="waChat" onclick="window.open('https://wa.me/6287877929391','_blank')">Chat WA</div>
<div id="toast">Pesanan dikirim ke WhatsApp</div>

<footer>
  <p>&copy; 2025 Sea Laundry</p>
</footer>

<script>
// ================= Tab & Animasi =================
const tabs = document.querySelectorAll('.tab-btn');
const contents = document.querySelectorAll('.tab-content');
const showItems = (tabId)=>{
  const items = document.getElementById(tabId).querySelectorAll('.item');
  items.forEach((i,j)=>setTimeout(()=>i.classList.add('show'), j*100));
}
tabs.forEach(btn => {
  btn.addEventListener('click', ()=>{
    tabs.forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    contents.forEach(c=>c.classList.remove('active'));
    const tab = document.getElementById(btn.dataset.tab);
    tab.classList.add('active');
    showItems(btn.dataset.tab);
    if(btn.dataset.tab === 'status') loadStatusFromGAS();
  });
});
showItems('home');

// ================== Apps Script Integration ==================
const GAS_URL = "https://script.google.com/macros/s/AKfycbwXBEufyqlB9gl4x1Iz1_WwpxrQaWHSWYdyI2GrhwmYO9unOqoFmYQQmJ6ujnVFmL4qlg/exec";

document.getElementById('orderForm').addEventListener('submit', e=>{
  e.preventDefault();
  const nama = document.getElementById('nama').value.trim();
  const alamat = document.getElementById('alamat').value.trim();
  const berat = parseFloat(document.getElementById('berat').value);
  const layanan = document.getElementById('layanan').value;
  const jadwal = document.getElementById('jadwal').value;
  const catatan = document.getElementById('catatan').value.trim();

  const today = new Date().toISOString().split('T')[0];
  if(berat <= 0){ alert('Berat harus > 0'); return; }
  if(jadwal < today){ alert('Jadwal tidak boleh di masa lalu'); return; }

  // WA
  const wa = `Halo, saya ingin memesan laundry.\nNama: ${nama}\nAlamat: ${alamat}\nBerat: ${berat}kg\nLayanan: ${layanan}\nJadwal: ${jadwal}\nCatatan: ${catatan}`;
  window.open('https://wa.me/6287877929391?text='+encodeURIComponent(wa),'_blank');

  // GAS
  fetch(GAS_URL, {
    method:"POST",
    body: JSON.stringify({
      type:"PesanLaundry",
      payload:{ nama, alamat, berat, layanan, catatan, jadwal }
    })
  }).then(()=>{ const toast = document.getElementById('toast'); toast.classList.add('show'); setTimeout(()=>toast.classList.remove('show'),3000); })
  .catch(err=>{ console.error("Gagal mengirim ke Spreadsheet:", err); alert("Terjadi masalah saat menyimpan ke Spreadsheet"); });
});

// ================== Status Order ==================
function loadStatusFromGAS(){
  fetch(GAS_URL, {
    method: "POST",
    body: JSON.stringify({ type:"GetAllStatus" })
  })
  .then(res => res.json())
  .then(data => {
    const steps = document.querySelectorAll('#statusSteps .step');
    steps.forEach(s => s.classList.remove('active'));

    if(data.status.length === 0) return;
    const lastStatus = data.status[data.status.length - 1]; // ambil status terakhir
    steps.forEach(s => {
      if(isStepActive(s.textContent, lastStatus)) s.classList.add('active');
    });
  })
  .catch(err => { console.error("Gagal ambil status:", err); });
}

function isStepActive(step, lastStatus){
  const order = ["Dipesan","Dijemput","Diproses","Selesai","Diantar"];
  return order.indexOf(step) <= order.indexOf(lastStatus);
}

// ================== Accordion ==================
document.querySelectorAll('.accordion-header').forEach(header=>{
  header.addEventListener('click', ()=>{
    const content = header.nextElementSibling;
    const isActive = header.classList.contains('active');
    document.querySelectorAll('.accordion-header').forEach(h=>h.classList.remove('active'));
    document.querySelectorAll('.accordion-content').forEach(c=>c.style.maxHeight=null);
    if(!isActive){ header.classList.add('active'); content.style.maxHeight = content.scrollHeight+"px"; }
  });
});

// ================== Gelembung ==================
function createBubble(elem) {
  const bubble = document.createElement('div');
  bubble.classList.add('bubble');
  const size = Math.random() * 30 + 20;
  bubble.style.width = bubble.style.height = size + 'px';
  bubble.style.left = Math.random() * 100 + '%';
  bubble.style.animationDuration = (Math.random() * 10 + 8) + 's';
  elem.appendChild(bubble);
  setTimeout(()=> bubble.remove(), 12000);
}
const headerElem = document.querySelector('header');
const footerElem = document.querySelector('footer');
setInterval(()=>{ createBubble(headerElem); createBubble(footerElem); }, 500);

// ================== Auto-refresh Status Order setiap 5 detik ==================
setInterval(()=>{
  const statusTab = document.getElementById('status');
  if(statusTab.classList.contains('active')){
    loadStatusFromGAS();
  }
}, 5000);
</script>

</body>
</html>
